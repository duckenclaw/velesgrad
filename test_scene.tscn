[gd_scene load_steps=19 format=3 uid="uid://c0f5a6suc55dr"]

[ext_resource type="Material" uid="uid://crkwdk1qlwppt" path="res://assets/materials/floor.tres" id="1_coq8p"]
[ext_resource type="PackedScene" uid="uid://p3ukmayya1la" path="res://player/player.tscn" id="1_uhqqe"]
[ext_resource type="Material" uid="uid://d1rwvfxrt2pwn" path="res://assets/materials/obstacle.tres" id="2_2nij2"]
[ext_resource type="PackedScene" uid="uid://by5tuau1xmdxb" path="res://dummy.tscn" id="2_ia1lp"]
[ext_resource type="Script" uid="uid://cqa7r7exbj14q" path="res://dummy.gd" id="5_2nij2"]
[ext_resource type="Resource" uid="uid://dm8ku07ncxhoo" path="res://assets/dialogue/test_timeline.dtl" id="6_7cbxl"]

[sub_resource type="Environment" id="Environment_6adnx"]
background_mode = 1
background_color = Color(0.5241773, 0.8202268, 0.99999994, 1)
ambient_light_color = Color(0.69803923, 0.7529412, 0.30588236, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_uhqqe"]
material = ExtResource("1_coq8p")
size = Vector2(30, 30)

[sub_resource type="BoxShape3D" id="BoxShape3D_ia1lp"]
size = Vector3(30, 0.1, 30)

[sub_resource type="BoxShape3D" id="BoxShape3D_uhqqe"]
size = Vector3(5, 2, 0.25)

[sub_resource type="BoxMesh" id="BoxMesh_ia1lp"]
material = ExtResource("2_2nij2")
size = Vector3(5, 2, 0.25)

[sub_resource type="BoxShape3D" id="BoxShape3D_sasra"]
size = Vector3(1, 0.2, 1)

[sub_resource type="BoxMesh" id="BoxMesh_coq8p"]
size = Vector3(1, 0.2, 1)

[sub_resource type="PrismMesh" id="PrismMesh_uhqqe"]
left_to_right = 0.0
size = Vector3(3, 2, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_uhqqe"]
data = PackedVector3Array(-1.5, 1, 0.5, 1.5, -1, 0.5, -1.5, -1, 0.5, -1.5, 1, -0.5, -1.5, -1, -0.5, 1.5, -1, -0.5, -1.5, 1, 0.5, -1.5, 1, -0.5, 1.5, -1, 0.5, -1.5, 1, -0.5, 1.5, -1, -0.5, 1.5, -1, 0.5, -1.5, 1, -0.5, -1.5, 1, 0.5, -1.5, -1, -0.5, -1.5, 1, 0.5, -1.5, -1, 0.5, -1.5, -1, -0.5, -1.5, -1, 0.5, 1.5, -1, 0.5, -1.5, -1, -0.5, 1.5, -1, 0.5, 1.5, -1, -0.5, -1.5, -1, -0.5)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_2nij2"]
height = 1.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2nij2"]
albedo_color = Color(0.3943068, 0.21726185, 9.62615e-08, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_2nij2"]
material = SubResource("StandardMaterial3D_2nij2")
height = 1.0

[node name="TestScene" type="Node3D" unique_id=695216030]

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1428814722]
environment = SubResource("Environment_6adnx")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment" unique_id=39262699]
transform = Transform3D(0.8535534, 0.14644662, 0.5, -0.50000006, 0.50000006, 0.70710677, -0.14644663, -0.8535534, 0.5, 0, 0, 0)
shadow_enabled = true

[node name="TestEnvironment" type="Node3D" parent="." unique_id=1376848579]

[node name="Floor" type="StaticBody3D" parent="TestEnvironment" unique_id=1766420584]

[node name="MeshInstance3D" type="MeshInstance3D" parent="TestEnvironment/Floor" unique_id=1154444771]
mesh = SubResource("PlaneMesh_uhqqe")

[node name="CollisionShape3D" type="CollisionShape3D" parent="TestEnvironment/Floor" unique_id=1780714107]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.05, 0)
shape = SubResource("BoxShape3D_ia1lp")

[node name="Wall" type="StaticBody3D" parent="TestEnvironment" unique_id=1726183284]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, 3.2679653)

[node name="CollisionShape3D" type="CollisionShape3D" parent="TestEnvironment/Wall" unique_id=1571029866]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("BoxShape3D_uhqqe")

[node name="MeshInstance3D" type="MeshInstance3D" parent="TestEnvironment/Wall" unique_id=1881339419]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("BoxMesh_ia1lp")

[node name="Platform" type="StaticBody3D" parent="TestEnvironment" unique_id=566675441]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5, 1, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="TestEnvironment/Platform" unique_id=711493868]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
shape = SubResource("BoxShape3D_sasra")

[node name="MeshInstance3D" type="MeshInstance3D" parent="TestEnvironment/Platform" unique_id=1745326700]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
material_override = ExtResource("2_2nij2")
mesh = SubResource("BoxMesh_coq8p")

[node name="HighPlatform" type="StaticBody3D" parent="TestEnvironment" unique_id=1373630473]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5, 2, -3.5033703)

[node name="CollisionShape3D" type="CollisionShape3D" parent="TestEnvironment/HighPlatform" unique_id=1423673312]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
shape = SubResource("BoxShape3D_sasra")

[node name="MeshInstance3D" type="MeshInstance3D" parent="TestEnvironment/HighPlatform" unique_id=1732955141]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
material_override = ExtResource("2_2nij2")
mesh = SubResource("BoxMesh_coq8p")

[node name="Ramp" type="StaticBody3D" parent="TestEnvironment" unique_id=533610173]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 0, -3.5)

[node name="MeshInstance3D" type="MeshInstance3D" parent="TestEnvironment/Ramp" unique_id=992384852]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
material_override = ExtResource("2_2nij2")
mesh = SubResource("PrismMesh_uhqqe")

[node name="CollisionShape3D" type="CollisionShape3D" parent="TestEnvironment/Ramp" unique_id=961308437]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("ConcavePolygonShape3D_uhqqe")

[node name="Barrel" type="RigidBody3D" parent="TestEnvironment" unique_id=459347704]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 0, 0)
mass = 0.5

[node name="CollisionShape3D" type="CollisionShape3D" parent="TestEnvironment/Barrel" unique_id=525951389]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("CylinderShape3D_2nij2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="TestEnvironment/Barrel" unique_id=4950323]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
mesh = SubResource("CylinderMesh_2nij2")

[node name="Player" parent="." unique_id=1422290269 instance=ExtResource("1_uhqqe")]

[node name="Dummy" parent="." unique_id=949463427 groups=["enemy"] instance=ExtResource("2_ia1lp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, 3)
script = ExtResource("5_2nij2")
dialogue_timeline = ExtResource("6_7cbxl")
